<p-dialog 
    [(visible)]="showPhotoDialog" 
    [modal]="true"
    [closable]="true"
    [dismissableMask]="true"
    [draggable]="false"
    [resizable]="false"
    [style]="{width: '90vw', maxWidth: '900px'}"
    styleClass="photo-dialog"
    header="Photos du point"
    (onHide)="closeModal()"
  >
    <!-- État de chargement -->
    <div *ngIf="loadingPhotos" class="loading-state">
      <div class="loading-spinner">
        <span class="pi pi-spin pi-spinner"></span>
      </div>
      <p class="loading-text">Chargement des photos...</p>
    </div>

    <!-- Affichage des photos -->
    <div class="photo-viewer" *ngIf="!loadingPhotos && currentPhoto">
      <div class="photo-container">
        <img 
          [src]="getPhotoSrc(currentPhoto)" 
          [alt]="currentPhoto.pictureName"
          class="photo-image"
        />
      </div>
      
      <div class="photo-navigation">
        <button 
          type="button"
          class="nav-button nav-prev"
          (click)="previousPhoto()"
          [disabled]="currentPhotoIndex === 0"
          title="Photo précédente"
        >
          ←
        </button>
        
        <span class="photo-counter">{{ photoCountText }}</span>
        
        <button 
          type="button"
          class="nav-button nav-next"
          (click)="nextPhoto()"
          [disabled]="currentPhotoIndex === photos.length - 1"
          title="Photo suivante"
        >
          →
        </button>
      </div>
    </div>
    
    <!-- Aucune photo -->
    <div *ngIf="!loadingPhotos && !currentPhoto" class="no-photos">
      <div class="no-photos-icon">
        <span class="pi pi-image"></span>
      </div>
      <h3 class="no-photos-title">Aucune photo disponible</h3>
      <p class="no-photos-text">Ce point ne contient pas encore de photos.</p>
    </div>
  </p-dialog>
