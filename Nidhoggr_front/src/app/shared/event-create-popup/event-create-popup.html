<div class="event-overlay" (click)="close.emit()">
	<div class="event-dialog" (click)="$event.stopPropagation()">
		<button class="event-close" (click)="close.emit()">
			<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
				<line x1="18" y1="6" x2="6" y2="18"></line>
				<line x1="6" y1="6" x2="18" y2="18"></line>
			</svg>
		</button>
		
		<div class="dialog-header">
			<div class="header-icon">
				<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
					<rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
					<line x1="16" y1="2" x2="16" y2="6"></line>
					<line x1="8" y1="2" x2="8" y2="6"></line>
					<line x1="3" y1="10" x2="21" y2="10"></line>
					<line x1="12" y1="14" x2="12" y2="18"></line>
					<line x1="10" y1="16" x2="14" y2="16"></line>
				</svg>
			</div>
			<div class="header-text">
				<h4>Nouvel Ã©vÃ©nement</h4>
				<p>CrÃ©ez un Ã©vÃ©nement pour organiser vos points d'intÃ©rÃªt</p>
			</div>
		</div>
		
		<form (ngSubmit)="onSubmit()">
			<div class="form-group">
				<label for="title">
					<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
						<path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
						<path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
					</svg>
					Titre de l'Ã©vÃ©nement <span class="required">*</span>
				</label>
				<input 
					type="text" 
					id="title" 
					[(ngModel)]="presenter.formData.title" 
					name="title"
					placeholder="Ex: Festival d'Ã©tÃ© 2025"
					required
					[class.has-value]="presenter.formData.title"
				/>
			</div>
			
			<div class="form-row">
				<div class="form-group">
					<label for="startDate">
						<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
							<circle cx="12" cy="12" r="10"></circle>
							<polyline points="12 6 12 12 16 14"></polyline>
						</svg>
						Date de dÃ©but
					</label>
					<input 
						type="datetime-local" 
						id="startDate" 
						[(ngModel)]="presenter.formData.startDate" 
						name="startDate"
						[class.has-value]="presenter.formData.startDate"
					/>
				</div>
				
				<div class="form-group">
					<label for="endDate">
						<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
							<circle cx="12" cy="12" r="10"></circle>
							<polyline points="12 6 12 12 16 14"></polyline>
						</svg>
						Date de fin
					</label>
					<input 
						type="datetime-local" 
						id="endDate" 
						[(ngModel)]="presenter.formData.endDate" 
						name="endDate"
						[class.has-value]="presenter.formData.endDate"
					/>
				</div>
			</div>
			
			<div class="form-group">
				<label for="status">
					<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
						<path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
						<polyline points="22 4 12 14.01 9 11.01"></polyline>
					</svg>
					Statut
				</label>
				<div class="select-wrapper">
					<select 
						id="status" 
						[(ngModel)]="presenter.formData.status" 
						name="status"
					>
						<option [ngValue]="0">ğŸ“‹ Ã€ organiser</option>
						<option [ngValue]="1">ğŸš€ En cours</option>
						<option [ngValue]="2">ğŸ”§ En installation</option>
						<option [ngValue]="3">ğŸ“¦ En dÃ©sinstallation</option>
						<option [ngValue]="4">âœ… TerminÃ©</option>
					</select>
				</div>
			</div>
			
			<div class="error-message" *ngIf="presenter.errorMessage">
				<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
					<circle cx="12" cy="12" r="10"></circle>
					<line x1="12" y1="8" x2="12" y2="12"></line>
					<line x1="12" y1="16" x2="12.01" y2="16"></line>
				</svg>
				{{ presenter.errorMessage }}
			</div>
			
			<div class="form-actions">
				<button type="button" class="cancel-btn" (click)="close.emit()">
					Annuler
				</button>
				<button type="submit" class="submit-btn" [disabled]="presenter.isSubmitting || !presenter.formData.title">
					<svg *ngIf="!presenter.isSubmitting" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
						<line x1="12" y1="5" x2="12" y2="19"></line>
						<line x1="5" y1="12" x2="19" y2="12"></line>
					</svg>
					<svg *ngIf="presenter.isSubmitting" class="spinner" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
						<line x1="12" y1="2" x2="12" y2="6"></line>
						<line x1="12" y1="18" x2="12" y2="22"></line>
						<line x1="4.93" y1="4.93" x2="7.76" y2="7.76"></line>
						<line x1="16.24" y1="16.24" x2="19.07" y2="19.07"></line>
						<line x1="2" y1="12" x2="6" y2="12"></line>
						<line x1="18" y1="12" x2="22" y2="12"></line>
						<line x1="4.93" y1="19.07" x2="7.76" y2="16.24"></line>
						<line x1="16.24" y1="7.76" x2="19.07" y2="4.93"></line>
					</svg>
					{{ presenter.isSubmitting ? 'CrÃ©ation...' : 'CrÃ©er l\'Ã©vÃ©nement' }}
				</button>
			</div>
		</form>
	</div>
</div>
